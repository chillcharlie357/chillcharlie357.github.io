<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="Hexo Theme Redefine"><meta name="author" content="Charlie"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="canonical" href="http://example.com/posts/404b6c10/"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="revisit-after" content="1 days"><meta name="description" content="false"><meta property="og:type" content="article"><meta property="og:title" content="15_控制器"><meta property="og:url" content="http://example.com/posts/404b6c10/index.html"><meta property="og:site_name" content="Charlie"><meta property="og:description" content="false"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/6e4ec90eb7eec117af309c9246fa01a1_89_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/66187f804a9c1a18f05fea2f49cbcfc7_8a_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/750804e8ba395e7cdd8cecc4b65d769e_8b_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/1e4debec8b371e18d894df323101c4ba_8c_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/0e44babaa68ae90abc5e0cba24f7aa6c_8d_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/3ebefe01cd74e9268267d66a5c01ff3b_8e_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/a629116d035cda973654584f1669caa9_90_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/c058c702798dee245234c233231682c6_91_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/57836ed7b8c3e2aba7a8644205814750_92_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/6c4d70bd6df5beb35e78f85aaa74fb6b_93_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/b8cb22423d8cbfea9ddbacb8fbaf6861_94_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/35b0bd8a280dfb87eaf8adce99c3b54a_95_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/c7a671b141c6af5a0273f705d6723127_96_VoIPSCreencastCoverWnd.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/5d3c542a2d080f9f238d2c073148033b_msedge_846_503.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/5081d97e6c47daa240c5832888bcd1cc_msedge_319_719.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/eed5d2a9230287c1d780e549ed92cfe7_msedge_755_375.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/c5ff0eeb4faefdf25650557b901ce2b4_msedge_740_329.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/b7c046187e00d2d7fc0d226fe0eebafc_msedge_1187_902.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/f26129c83789499516287223c20f6c0c_msedge_1188_896.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/1db94f1d8145968efa836c97c9d7cd70_msedge_591_358.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/bc8a1b7ec094954fbf70bbcd1ecd520f_msedge_1092_491.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/18ac797702538909b485ebcfb93e08cf_msedge_1057_703.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/7cc1ebb02b010aa7c23839616c700a2a_msedge_1137_527.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/91463a815f70ea84078943b5306ce1a7_msedge_1148_847.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/e1a5ddfc3bb20988f6c620a4c54fcb02_msedge_1179_692.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/1d746880d1bc47acb9052d4d06c47bdb_msedge_1182_712.png"><meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/9fd3f886e6d3f8672fff51d9fb8ad6b0_msedge_1173_711.png"><meta property="article:published_time" content="2023-02-06T13:26:00.000Z"><meta property="article:modified_time" content="2024-04-01T02:15:42.399Z"><meta property="article:author" content="Charlie"><meta property="article:tag" content="2022Fall_计算机组织与结构 课程"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/6e4ec90eb7eec117af309c9246fa01a1_89_VoIPSCreencastCoverWnd.png"><link rel="icon" type="image/png" href="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F12%2F18%2F17-51-16-045340060059cb67a9b4b7b6ad1a0060-favicon-6d5df3.svg" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F12%2F18%2F17-51-16-045340060059cb67a9b4b7b6ad1a0060-favicon-6d5df3.svg"><meta name="theme-color" content="#A31F34"><link rel="shortcut icon" href="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F12%2F18%2F17-51-16-045340060059cb67a9b4b7b6ad1a0060-favicon-6d5df3.svg"><title>15_控制器 - Charlie&#39;s Blog</title><link rel="stylesheet" href="/fonts/Chillax/chillax.css"><style>:root{--preloader-background-color:#fff;--preloader-text-color:#000}@media (prefers-color-scheme:dark){:root{--preloader-background-color:#202124;--preloader-text-color:#fff}}@media (prefers-color-scheme:light){:root{--preloader-background-color:#fff;--preloader-text-color:#000}}@media (max-width:600px){.ml13{font-size:2.6rem!important}}.preloader{display:flex;flex-direction:column;gap:1rem;align-items:center;justify-content:center;position:fixed;padding:12px;top:0;right:0;bottom:0;left:0;width:100vw;height:100vh;background-color:var(--preloader-background-color);z-index:1100;transition:opacity .2s ease-in-out}.ml13{font-size:3.2rem;color:var(--preloader-text-color);letter-spacing:-1px;font-weight:500;font-family:Chillax-Variable,sans-serif;text-align:center}.ml13 .word{display:inline-flex;flex-wrap:wrap;white-space:nowrap}.ml13 .letter{display:inline-block;line-height:1em}</style><div class="preloader"><script src="/js/libs/anime.min.js"></script><h1 class="ml13">Charlie&#39;s Blog</h1><script>var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });


        anime.timeline({loop: true})
            .add({
                targets: '.ml13 .letter',
                translateY: [100,0],
                translateZ: 0,
                opacity: [0,1],
                easing: "easeOutExpo",
                duration: 1400,
                delay: (el, i) => 300 + 30 * i
            }).add({
            targets: '.ml13 .letter',
            translateY: [0,-100],
            opacity: [1,0],
            easing: "easeInExpo",
            duration: 1200,
            delay: (el, i) => 100 + 30 * i
        });

        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            hidePreloaderAfterTimeout(1000); // Hide after 1000 milliseconds once the window has loaded
        });

        // Backup failsafe: Hide preloader after a maximum of 5000 milliseconds, regardless of the window load event
        hidePreloaderAfterTimeout(5000);

        function hidePreloaderAfterTimeout(delay) {
            setTimeout(function () {
                var preloader = document.querySelector('.preloader');
                preloader.style.opacity = '0';
                setTimeout(function () {
                    preloader.style.display = 'none';
                }, 200);
            }, delay);
        }</script></div><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/assets/build/styles.css"><link rel="stylesheet" href="/fonts/fonts.css"><link rel="stylesheet" href="/fonts/Satoshi/satoshi.css"><script id="hexo-configurations">window.config={hostname:"example.com",root:"/",language:"zh-CN",path:"search.xml"},window.theme={articles:{style:{font_size:"16px",line_height:1.5,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0,title_alignment:"left",headings_top_spacing:{h1:"5rem",h2:"4rem",h3:"2.8rem",h4:"2.5rem",h5:"2.2rem",h6:"2rem"}},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!1,auto:!1,list:[]},code_block:{copy:!0,style:"mac",font:{enable:!1,family:null,url:null}},toc:{enable:!0,max_depth:4,number:!1,expand:!0,init_open:!0},copyright:{enable:!0,default:"cc_by_nc_sa"},lazyload:!0,recommendation:{enable:!1,title:"推荐阅读",limit:3,mobile_limit:2,placeholder:"/images/wallhaven-wqery6-light.webp",skip_dirs:[]}},colors:{primary:"#A31F34",secondary:null,default_mode:"light"},global:{fonts:{chinese:{enable:!1,family:null,url:null},english:{enable:!1,family:null,url:null}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!0,scale:!1},scroll_progress:{bar:!0,percentage:!0},website_counter:{url:"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},single_page:!0,preloader:!0,open_graph:!0,google_analytics:{enable:!1,id:null}},home_banner:{enable:!0,style:"fixed",image:{light:"/images/wallhaven-wqery6-light.webp",dark:"/images/wallhaven-wqery6-dark.webp"},title:"Charlie's Blog",subtitle:{text:[],hitokoto:{enable:!1,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!0,smart_backspace:!0},text_color:{light:"#fff",dark:"#d1d1b6"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!1,family:null,url:null},social_links:{enable:!0,style:"default",links:{github:"https://github.com/chillcharlie357",instagram:null,zhihu:null,twitter:null,email:null},qrs:null}},plugins:{feed:{enable:!0},aplayer:{enable:!1,type:"fixed",audios:[{name:null,artist:null,url:null,cover:null}]},mermaid:{enable:!0,version:"10.7.0"}},version:"2.6.1",navbar:{auto_hide:!1,color:{left:"#f78736",right:"#367df7",transparency:35},width:{home:"1200px",pages:"1000px"},links:{Home:{path:"/",icon:"fa-regular fa-house"},Archives:{path:"/archives",icon:"fa-regular fa-archive"},Categories:{path:"/categories",icon:"fa-regular fa-folder"},Tags:{path:"/tags/",icon:"fa-regular fa-tags"},Links:{path:"/links",icon:"fa-regular fa-link"}},search:{enable:!0,preload:!0}},page_templates:{friends_column:2,tags_style:"blur"},home:{sidebar:{enable:!0,position:"left",first_item:"menu",announcement:null,show_on_mobile:!0,links:null},article_date_format:"YYYY-MM-DD",categories:{enable:!0,limit:3},tags:{enable:!0,limit:3}},footerStart:"2022/10/14 11:45:14"},window.lang_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},window.data={masonry:!1}</script><link rel="stylesheet" href="/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/fontawesome/brands.min.css"><link rel="stylesheet" href="/fontawesome/solid.min.css"><link rel="stylesheet" href="/fontawesome/regular.min.css"><link rel="stylesheet" href="/fontawesome/light.min.css"><meta name="generator" content="Hexo 7.1.1"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/atom.xml" title="Charlie" type="application/atom+xml">
</head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span></div><main class="page-container" id="swup"><div class="main-content-container"><div class="main-content-header"><header class="navbar-container px-6 md:px-12"><div class="navbar-content"><div class="left"><a class="logo-title" href="/">Charlie&#39;s Blog</a></div><div class="right"><div class="desktop"><ul class="navbar-list"><li class="navbar-item"><a href="/"><i class="fa-regular fa-house fa-fw"></i> 首页</a></li><li class="navbar-item"><a href="/archives"><i class="fa-regular fa-archive fa-fw"></i> 归档</a></li><li class="navbar-item"><a href="/categories"><i class="fa-regular fa-folder fa-fw"></i> 分类</a></li><li class="navbar-item"><a href="/tags/"><i class="fa-regular fa-tags fa-fw"></i> 标签</a></li><li class="navbar-item"><a href="/links"><i class="fa-regular fa-link fa-fw"></i> 链接</a></li><li class="navbar-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div><div class="icon-item navbar-bar"><div class="navbar-bar-middle"></div></div></div></div></div><div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between"><ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start"><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/"><span>首页 </span><i class="fa-regular fa-house fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/archives"><span>归档 </span><i class="fa-regular fa-archive fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/categories"><span>分类 </span><i class="fa-regular fa-folder fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/tags/"><span>标签 </span><i class="fa-regular fa-tags fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/links"><span>链接 </span><i class="fa-regular fa-link fa-sm fa-fw"></i></a></li></ul><div class="statistics flex justify-around my-2.5"><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">15</div><div class="label text-third-text-color text-sm">标签</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">8</div><div class="label text-third-text-color text-sm">分类</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">83</div><div class="label text-third-text-color text-sm">文章</div></a></div></div><div class="window-mask"></div></header></div><div class="main-content-body"><div class="main-content"><div class="post-page-container flex relative justify-between box-border w-full h-full"><div class="article-content-container"><div class="article-title relative w-full"><div class="w-full flex items-center pt-6 justify-start"><h1 class="article-title-regular text-second-text-color text-4xl md:text-6xl font-bold px-2 sm:px-6 md:px-8 py-3">15_控制器</h1></div></div><div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8"><div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]"><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F12%2F18%2F00-05-09-de674d2b66f87cf10485f6927999aff9-avatar-c3ed7f.jpeg"></div><div class="info flex flex-col justify-between"><div class="author flex items-center"><span class="name text-default-text-color text-lg font-semibold">Charlie</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-pen-fancy"></i>&nbsp; <span class="desktop">2023-02-06 21:26</span> <span class="mobile">2023-02-06 21:26</span> <span class="hover-info">创建</span> </span><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i>&nbsp; <span class="desktop">2024-04-01 10:15:42</span> <span class="mobile">2024-04-01 10:15:42</span> <span class="hover-info">更新</span> </span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i>&nbsp;<ul><li><a href="/categories/2022Fall-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/">2022Fall_计算机组织与结构</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i>&nbsp;<ul><li><a href="/tags/2022Fall-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84-%E8%AF%BE%E7%A8%8B/">2022Fall_计算机组织与结构 课程</a>&nbsp;</li></ul></span><span class="article-pv article-meta-item"><i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8"><h1 id="1-指令周期"><a href="#1-指令周期" class="headerlink" title="1. 指令周期"></a>1. 指令周期</h1><p>处理单个指令的过程</p><ul><li>取指周期：从内存中提取一条指令</li><li>执行周期：执行所提取的指令</li></ul><h2 id="1-1-指令周期"><a href="#1-1-指令周期" class="headerlink" title="1.1. 指令周期"></a>1.1. 指令周期</h2><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/6e4ec90eb7eec117af309c9246fa01a1_89_VoIPSCreencastCoverWnd.png" alt="89_VoIPSCreencastCoverWnd.png"></p><h3 id="1-1-1-状态图"><a href="#1-1-1-状态图" class="headerlink" title="1.1.1. 状态图"></a>1.1.1. 状态图</h3><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/66187f804a9c1a18f05fea2f49cbcfc7_8a_VoIPSCreencastCoverWnd.png" alt="8a_VoIPSCreencastCoverWnd.png"></p><h2 id="1-2-带中断的指令周期"><a href="#1-2-带中断的指令周期" class="headerlink" title="1.2. 带中断的指令周期"></a>1.2. 带中断的指令周期</h2><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/750804e8ba395e7cdd8cecc4b65d769e_8b_VoIPSCreencastCoverWnd.png" alt="8b_VoIPSCreencastCoverWnd.png"></p><h3 id="1-2-1-状态图"><a href="#1-2-1-状态图" class="headerlink" title="1.2.1. 状态图"></a>1.2.1. 状态图</h3><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/1e4debec8b371e18d894df323101c4ba_8c_VoIPSCreencastCoverWnd.png" alt="8c_VoIPSCreencastCoverWnd.png"></p><h2 id="1-3-间址周期"><a href="#1-3-间址周期" class="headerlink" title="1.3. 间址周期"></a>1.3. 间址周期</h2><ul><li>间址周期：把<strong>间接地址</strong>的读取看成是一个额外的指令子周期<ul><li>指令的执行可能涉及一个或多个存储器中的操作数，它们每个都要求一次存储器访问</li><li>使用间接寻址，还需要额外的存储器访问</li><li>相当于取了两次操作数<br><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/0e44babaa68ae90abc5e0cba24f7aa6c_8d_VoIPSCreencastCoverWnd.png" alt="8d_VoIPSCreencastCoverWnd.png"></li></ul></li></ul><h3 id="1-3-1-状态图"><a href="#1-3-1-状态图" class="headerlink" title="1.3.1. 状态图"></a>1.3.1. 状态图</h3><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/06/3ebefe01cd74e9268267d66a5c01ff3b_8e_VoIPSCreencastCoverWnd.png" alt="8e_VoIPSCreencastCoverWnd.png"></p><h2 id="1-4-CPU"><a href="#1-4-CPU" class="headerlink" title="1.4. CPU"></a>1.4. CPU</h2><h3 id="1-4-1-CPU任务"><a href="#1-4-1-CPU任务" class="headerlink" title="1.4.1. CPU任务"></a>1.4.1. CPU任务</h3><ol><li>取指令：CPU必须从存储器（寄存器、cache、主存）读取指令</li><li>解释指令：必须对指令进行译码，以确定所要求的动作</li><li>取数据：指令的执行可能要求从存储器或输入/输出（I/O）模块中读取数据</li><li>处理数据：指令的执行可能要求对数据完成某些算术或逻辑运算</li><li>写数据：执行的结果可能要求写数据到存储器或I/O模块</li></ol><h3 id="1-4-2-CPU需求"><a href="#1-4-2-CPU需求" class="headerlink" title="1.4.2. CPU需求"></a>1.4.2. CPU需求</h3><ul><li><strong>寄存器</strong>：小容量内部存储器<ul><li>CPU需要在指令周期中<strong>临时</strong>保存指令和数据</li><li>CPU需要记录<strong>当前</strong>所执行指令的位置，以便知道从何处得到<strong>下一条指令</strong></li></ul></li></ul><p>假定CPU有</p><ul><li>1个存储地址寄存器（MAR）</li><li>1个存储缓冲寄存器（MBR）/ 存储数据寄存器（MDR）</li><li>1个程序计数器（PC）</li><li>1个指令寄存器（IR）</li></ul><h2 id="1-5-数据流"><a href="#1-5-数据流" class="headerlink" title="1.5. 数据流"></a>1.5. 数据流</h2><h1 id="2-处理器结构"><a href="#2-处理器结构" class="headerlink" title="2. 处理器结构"></a>2. 处理器结构</h1><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/a629116d035cda973654584f1669caa9_90_VoIPSCreencastCoverWnd.png" alt="90_VoIPSCreencastCoverWnd.png"></p><h1 id="3-寄存器"><a href="#3-寄存器" class="headerlink" title="3. 寄存器"></a>3. 寄存器</h1><h2 id="3-1-用户可见寄存器"><a href="#3-1-用户可见寄存器" class="headerlink" title="3.1. 用户可见寄存器"></a>3.1. 用户可见寄存器</h2><ul><li>user-visible register<ul><li>允许编程人员通过机器语言或汇编语言访问，通过优化寄存器的使用而减少对主存的访问</li></ul></li></ul><h3 id="3-1-1-类型"><a href="#3-1-1-类型" class="headerlink" title="3.1.1. 类型"></a>3.1.1. 类型</h3><ol><li>通用寄存器（general-purpose register）<ul><li>可被程序员指派各种用途</li></ul></li><li>数据寄存器（data register）<ul><li>仅可用于保持数据而不能用于操作数地址的计算</li></ul></li><li>地址寄存器（address register）<ul><li>可以是自身有某些通用性，或是专用于某种具体的寻址方式</li><li>例如：段指针、变址寄存器、栈指针</li></ul></li><li>条件码寄存器（condition codes register） / 标志（flag）寄存器<ul><li>CPU硬件设置这些条件位作为操作的结果</li><li>至少是部分用户可见的</li></ul></li></ol><h3 id="3-1-2-设计出发点"><a href="#3-1-2-设计出发点" class="headerlink" title="3.1.2. 设计出发点"></a>3.1.2. 设计出发点</h3><ol><li>使用完全通用的寄存器还是规定各寄存器的用途？</li><li>寄存器数量<ul><li>太少的寄存器会导致更多的存储器访问</li><li>太多的寄存器又不能显著地减少存储器访问</li></ul></li><li>寄存器长度<ul><li>应能保存大多数数据类型的值</li><li>某些机器允许两个相邻的寄存器作为一个寄存器来保持两倍长度 的值</li></ul></li></ol><h3 id="3-1-3-保存和恢复"><a href="#3-1-3-保存和恢复" class="headerlink" title="3.1.3. 保存和恢复"></a>3.1.3. 保存和恢复</h3><ul><li>子程序调用<ul><li>会导致自动保存所有用户可见的寄存器，并在返回时自动取回</li><li>这些保存和恢复是作为调用和返回指令执行功能的一部分，由CPU完成</li><li>允许各个子程序独立地使用用户可见寄存器</li></ul></li><li>子程序调用之外保存用户可见寄存器的相关内容是程序员的责任，需要在程序中为此编写专门的指令</li></ul><h2 id="3-2-控制和状态寄存器"><a href="#3-2-控制和状态寄存器" class="headerlink" title="3.2. 控制和状态寄存器"></a>3.2. 控制和状态寄存器</h2><h3 id="3-2-1-类型"><a href="#3-2-1-类型" class="headerlink" title="3.2.1. 类型"></a>3.2.1. 类型</h3><ol><li>程序计数器（Program counter，PC）<ul><li>存有待取指令的地址</li><li>通常在每次取指令之后，PC的内容即被CPU更改，转移或跳步指令也会修改PC的内容，因此总指向将被执行的下一条指令</li></ul></li><li>指令寄存器（Instruction register，IR）<ul><li>存有最近取来的指令，在其中分析操作码和操作数</li></ul></li><li>存储器地址寄存器（Memory address register，MAR）<ul><li>直接与地址总线相连，存有存储器位置的地址</li></ul></li><li>存储器缓冲寄存器（Memory buffer register，MBR）<ul><li>直接与数据总线相连，存有将被写入存储器的数据字或从存储器读出的字，用户可见寄存器再与MBR交换数据</li><li>ALU可对MBR和用户可见寄存器直接存取</li></ul></li><li>程序状态字（Program status word，PSW）<ul><li>一个或一组包含状态信息的寄存器，包含条件码加上其他状态信息</li><li>包含的字段或标志<ul><li>符号（Sign）：容纳算术运算结果的符号位</li><li>零（Zero）：当结果是0时被置位</li><li>进位（Carry）：若操作导致最高位有向上的进位（加法）或借位（减法）时被置位，用于多字算数运算</li><li>等于（Equal）：若逻辑比较的结果相等，则置位</li><li>溢出（Overflow）：用于表示算术溢出</li><li>中断允许/禁止：用于允许或禁止中断</li><li>监管（Supervisor）：指出CPU是执行在监管模式中还是在用户模式中</li></ul></li></ul></li><li>一个指向含有附加状态信息的存储器块的指针寄存器</li><li>在使用向量式中断的机器中，可能提供有一个中断向量寄存器</li><li>若栈用于实现某些功能，需要有一个系统栈指针</li><li>对于虚拟存储器系统，会有一个页表指针寄存器</li></ol><h3 id="3-2-2-设计出发点"><a href="#3-2-2-设计出发点" class="headerlink" title="3.2.2. 设计出发点"></a>3.2.2. 设计出发点</h3><ol><li>设计出发点<ul><li>某些类型的控制信息是专门为操作系统使用的</li><li>若CPU设计者对将要使用的操作系统有基本的了解，则寄存器 的组织可能在一定程度上为该操作系统定制</li></ul></li><li>控制信息在寄存器和存储器之间的分配<ul><li>一种普遍的做法是将存储器最前面（最低地址）的几百或几千个字用于控制目的</li><li>在成本和速度之间进行权衡</li></ul></li></ol><h1 id="4-微操作"><a href="#4-微操作" class="headerlink" title="4. 微操作"></a>4. 微操作</h1><ul><li>定义：执行程序时，计算机操作是由一系列指令周期组成，每个周期执 行一条机器指令。每个指令周期又可以看作是由几个更小的子周期组成。每个子周期由一系列涉及<strong>CPU寄存器操作</strong>的更小步骤组成，这些步骤称为<strong>微操作</strong><br><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/c058c702798dee245234c233231682c6_91_VoIPSCreencastCoverWnd.png" alt="91_VoIPSCreencastCoverWnd.png"></li></ul><h2 id="4-1-微操作分组的原则"><a href="#4-1-微操作分组的原则" class="headerlink" title="4.1. 微操作分组的原则"></a>4.1. 微操作分组的原则</h2><ul><li>事件的流动顺序必须是恰当的<ul><li>例：MAR &lt;- (PC) 必须先于MBR &lt;- 内存，因为内存读操作要使用 MAR中的地址</li></ul></li><li>必须避免冲突<ul><li>例：MBR &lt;- 内存 和IR &lt;- MBR 这两个微操作不应出现在同一时间 单位里</li></ul></li><li>满足上述条件下，所用的时间单位尽可能少</li></ul><h2 id="4-2-取指周期"><a href="#4-2-取指周期" class="headerlink" title="4.2. 取指周期"></a>4.2. 取指周期</h2><ul><li>出现在每个指令周期的开始，将指令从存储器中取出</li><li>过程：<br><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/57836ed7b8c3e2aba7a8644205814750_92_VoIPSCreencastCoverWnd.png" alt="92_VoIPSCreencastCoverWnd.png"></li></ul><h2 id="4-3-间址周期"><a href="#4-3-间址周期" class="headerlink" title="4.3. 间址周期"></a>4.3. 间址周期</h2><ul><li>如果指令采用间接寻址，则在指令执行前有一个间址周期</li><li>完成间址周期后，IR的状态与不使用间接寻址方式的状态是 相同的，已经为执行周期准备就绪</li><li>过程：<img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/6c4d70bd6df5beb35e78f85aaa74fb6b_93_VoIPSCreencastCoverWnd.png" alt="93_VoIPSCreencastCoverWnd.png"></li></ul><h2 id="4-4-执行周期"><a href="#4-4-执行周期" class="headerlink" title="4.4. 执行周期"></a>4.4. 执行周期</h2><ul><li>对于不同的操作码，会出现不同的微操作序列</li><li>例子<ul><li><p>加法指令<img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/b8cb22423d8cbfea9ddbacb8fbaf6861_94_VoIPSCreencastCoverWnd.png" alt="94_VoIPSCreencastCoverWnd.png"></p></li><li><p>“转移并保存地址”指令<img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/35b0bd8a280dfb87eaf8adce99c3b54a_95_VoIPSCreencastCoverWnd.png" alt="95_VoIPSCreencastCoverWnd.png"></p></li></ul></li></ul><h2 id="4-5-中断周期"><a href="#4-5-中断周期" class="headerlink" title="4.5. 中断周期"></a>4.5. 中断周期</h2><ul><li>在完成执行周期时，要确定是否有允许的中断产生</li><li>如果有，则出现一个中断周期</li><li>过程：<img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/07/c7a671b141c6af5a0273f705d6723127_96_VoIPSCreencastCoverWnd.png" alt="96_VoIPSCreencastCoverWnd.png"></li></ul><h2 id="4-6-指令周期代码"><a href="#4-6-指令周期代码" class="headerlink" title="4.6. 指令周期代码"></a>4.6. 指令周期代码</h2><ul><li><p>Instruction Cycle Code，ICC</p></li><li><p>取指、间址、中断周期各有一个微操作序列，执行周期则对于每 个操作码有一个微操作序列</p></li><li><p>指令周期代码：假设一个2位的ICC寄存器，明确CPU处于指令 周期哪个阶段</p><ul><li>00：取指</li><li>01：间值</li><li>10：执行</li><li>11：中断<br><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/5d3c542a2d080f9f238d2c073148033b_msedge_846_503.png" alt="msedge_846_503.png"></li></ul></li></ul><h2 id="4-7-CPU内部总线"><a href="#4-7-CPU内部总线" class="headerlink" title="4.7. CPU内部总线"></a>4.7. CPU内部总线</h2><ul><li>ALU和寄存器都连接到CPU内部总线上</li><li>为了数据在该内部总线和各寄存器之间传递， 内部总线和寄存器之间有门和控制信号</li><li>控制线控制着数据和系统总线（外部）的交 换以及ALU的操作</li></ul><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/5081d97e6c47daa240c5832888bcd1cc_msedge_319_719.png" alt="msedge_319_719.png"></p><h1 id="5-控制器"><a href="#5-控制器" class="headerlink" title="5. 控制器"></a>5. 控制器</h1><h2 id="5-1-基本任务"><a href="#5-1-基本任务" class="headerlink" title="5.1. 基本任务"></a>5.1. 基本任务</h2><ul><li>定序（sequencing）：根据正被执行的程序，控制器使CPU以正确 的顺序通过一系列微操作</li><li>执行（execution）：控制器使每个微操作得以完成</li></ul><h2 id="5-2-输入"><a href="#5-2-输入" class="headerlink" title="5.2. 输入"></a>5.2. 输入</h2><ul><li>指令寄存器：当前指令的寻址方式和操作码</li><li>标志：确定CPU的状态和前一个ALU操作的结果</li><li>时钟：控制器要在每个时钟脉冲完成一个或一组同时的微操作</li><li>来自控制总线的控制信号：向控制器提供控制信号<br><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/eed5d2a9230287c1d780e549ed92cfe7_msedge_755_375.png" alt="msedge_755_375.png"></li></ul><h2 id="5-3-输出"><a href="#5-3-输出" class="headerlink" title="5.3. 输出"></a>5.3. 输出</h2><p><font color="#ff0000">所有的控制信号最终作为二进制输入量 直接输入到各个逻辑门</font><font color="#ff0000"><font color="#ff0000">上</font></font></p><ul><li>CPU内的控制信号<ul><li>用于寄存器之间传送数据</li><li>用于启动特定的ALU功能</li></ul></li><li>到控制总线的控制信号<ul><li>到存储器的控制信号</li><li>到I/O模块的控制信号</li></ul></li></ul><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/c5ff0eeb4faefdf25650557b901ce2b4_msedge_740_329.png" alt="msedge_740_329.png"></p><h2 id="5-4-例子"><a href="#5-4-例子" class="headerlink" title="5.4. 例子"></a>5.4. 例子</h2><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/b7c046187e00d2d7fc0d226fe0eebafc_msedge_1187_902.png" alt="msedge_1187_902.png"></p><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/f26129c83789499516287223c20f6c0c_msedge_1188_896.png" alt="msedge_1188_896.png"></p><h2 id="5-5-控制器最小特性"><a href="#5-5-控制器最小特性" class="headerlink" title="5.5. 控制器最小特性"></a>5.5. 控制器最小特性</h2><ul><li>它只需要知道将被执行的指令和算术、逻辑运算结果的性质（如 正负、溢出等），而不需要知道正被处理的数据或得到的实际结 果具体是什么</li><li>它只是以少量的送到CPU内的和送到系统总线上的控制信号来实 现控制</li></ul><h1 id="6-控制器实现"><a href="#6-控制器实现" class="headerlink" title="6. 控制器实现"></a>6. 控制器实现</h1><ul><li><strong>硬布线实现（hardwired implementation）</strong><ul><li>控制器是一个组合电路，把输入逻辑信号转换为一组输出逻辑信号， 即控制信号</li></ul></li><li><strong>微程序实现（microprogrammed implementation）</strong><ul><li>控制逻辑是微程序指定的，控制器是一个相对简单的逻辑电路，通 过执行每条微指令来产生控制信号</li></ul></li></ul><h2 id="6-1-硬布线实现"><a href="#6-1-硬布线实现" class="headerlink" title="6.1. 硬布线实现"></a>6.1. 硬布线实现</h2><h3 id="6-1-1-控制器输入"><a href="#6-1-1-控制器输入" class="headerlink" title="6.1.1. 控制器输入"></a>6.1.1. 控制器输入</h3><ul><li><p>标志和控制总线信号</p><ul><li>每位都有特定的意义</li></ul></li><li><p>指令寄存器</p><ul><li>通过译码，使每一操作码有一个唯一的逻辑输入</li><li>译码器有 n 个输入和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container>个输出<ul><li>控制器要考虑变长的操作码，译码器会更复杂些</li></ul></li></ul></li><li><p>时钟</p><ul><li>在一个指令周期内，控制器要在不同时间单位发送不同的控制信号</li><li>使用一个定时器作为控制器的输入，并且控制器在指令周期结束时必须通知定时器以使其重新开始计数<br><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/1db94f1d8145968efa836c97c9d7cd70_msedge_591_358.png" alt="msedge_591_358.png"></li></ul></li></ul><h3 id="6-1-2-控制器逻辑"><a href="#6-1-2-控制器逻辑" class="headerlink" title="6.1.2. 控制器逻辑"></a>6.1.2. 控制器逻辑</h3><ul><li>为每个输出的控制信号设计一个关于控制器输入的<strong>布尔表达式</strong></li></ul><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/bc8a1b7ec094954fbf70bbcd1ecd520f_msedge_1092_491.png" alt="msedge_1092_491.png"></p><h2 id="6-2-微程序实现"><a href="#6-2-微程序实现" class="headerlink" title="6.2. 微程序实现"></a>6.2. 微程序实现</h2><h3 id="6-2-1-基本概念和思路"><a href="#6-2-1-基本概念和思路" class="headerlink" title="6.2.1. 基本概念和思路"></a>6.2.1. 基本概念和思路</h3><ul><li>微程序（固件）介于硬件与软件之间<ul><li>设计固件比设计硬件容易，但写固件程序比软件程序困难</li><li>微指令序列</li></ul></li><li>微指令：每行描述一个时间内出现的一组微操作</li><li><strong>基本思路</strong><ul><li>对于每个微操作，控制器的任务是产生一组控制信号，即控制器发出的每根控制线或开或关（每根控制线由一个二进制数字表示）</li><li>构造一个<strong>控制字</strong>，每位代表一根控制线，这样每个微操作能用控制 字中的不同的0和1的样式来表示</li><li>将这些控制字串在一起，可以表示控制器需要完成的微操作序列</li></ul></li></ul><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/18ac797702538909b485ebcfb93e08cf_msedge_1057_703.png" alt="msedge_1057_703.png"></p><h2 id="6-3-任务"><a href="#6-3-任务" class="headerlink" title="6.3. 任务"></a>6.3. 任务</h2><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/7cc1ebb02b010aa7c23839616c700a2a_msedge_1137_527.png" alt="msedge_1137_527.png"></p><h2 id="6-4-定序"><a href="#6-4-定序" class="headerlink" title="6.4. 定序"></a>6.4. 定序</h2><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/91463a815f70ea84078943b5306ce1a7_msedge_1148_847.png" alt="msedge_1148_847.png"></p><h2 id="6-5-构成"><a href="#6-5-构成" class="headerlink" title="6.5. 构成"></a>6.5. 构成</h2><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/e1a5ddfc3bb20988f6c620a4c54fcb02_msedge_1179_692.png" alt="msedge_1179_692.png"></p><h2 id="6-6-工作流程"><a href="#6-6-工作流程" class="headerlink" title="6.6. 工作流程"></a>6.6. 工作流程</h2><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/1d746880d1bc47acb9052d4d06c47bdb_msedge_1182_712.png" alt="msedge_1182_712.png"></p><p><img lazyload="" src="/images/loading.svg" data-src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/9fd3f886e6d3f8672fff51d9fb8ad6b0_msedge_1173_711.png" alt="msedge_1173_711.png"></p><h2 id="6-7-优点与缺点"><a href="#6-7-优点与缺点" class="headerlink" title="6.7. 优点与缺点"></a>6.7. 优点与缺点</h2><ul><li>优点<ul><li>简化了控制器的设计任务</li><li>实现成本低，减少出错机会</li></ul></li><li>缺点<ul><li>比采用相同半导体工艺的硬布线控制器慢一些</li></ul></li></ul></div><div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8"><div class="article-copyright-info-container"><ul><li><strong>标题:</strong> 15_控制器</li><li><strong>作者:</strong> Charlie</li><li><strong>创建于 :</strong> 2023-02-06 21:26:00</li><li><strong>更新于 :</strong> 2024-04-01 10:15:42</li><li><strong>链接:</strong> https://chillcharlie357.github.io/posts/404b6c10/</li><li><strong>版权声明: </strong>本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> 进行许可。</li></ul></div></div><ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden"><li class="tag-item mx-0.5"><a href="/tags/2022Fall-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84-%E8%AF%BE%E7%A8%8B/">#2022Fall_计算机组织与结构 课程</a>&nbsp;</li></ul><div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8"><div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="prev" rel="prev" href="/posts/1badac07/"><span class="left arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-left"></i> </span><span class="title flex justify-center items-center"><span class="post-nav-title-item">16_总线</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="next" rel="next" href="/posts/5ece27c9/"><span class="title flex justify-center items-center"><span class="post-nav-title-item">14_指令周期和指令流水线</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-right"></i></span></a></div></div><div class="comment-container px-2 sm:px-6 md:px-8 pb-8"><div class="comments-container mt-10 w-full"><div id="comment-anchor" class="w-full h-2.5"></div><div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">评论</div><div id="giscus-container"></div><script data-swup-reload-script defer>async function loadGiscus(){const a={src:"https://giscus.app/client.js","data-repo":"chillcharlie357/chillcharlie357.github.io","data-repo-id":"R_kgDOIMs3GQ","data-category":"Announcements","data-category-id":"DIC_kwDOIMs3Gc4CR9gx","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"1","data-theme":"preferred_color_scheme","data-lang":"en","data-input-position":"above","data-loading":"lazy",crossorigin:"anonymous",async:!0},t=document.createElement("script");for(const e in a)t.setAttribute(e,a[e]);document.getElementById("giscus-container").appendChild(t)}{let a=setTimeout(()=>{loadGiscus(),clearTimeout(a)},1e3)}</script></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><div class="toc-title">此页目录</div><div class="page-title">15_控制器</div><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E6%8C%87%E4%BB%A4%E5%91%A8%E6%9C%9F"><span class="nav-text">1. 指令周期</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E6%8C%87%E4%BB%A4%E5%91%A8%E6%9C%9F"><span class="nav-text">1.1. 指令周期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-%E7%8A%B6%E6%80%81%E5%9B%BE"><span class="nav-text">1.1.1. 状态图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-%E5%B8%A6%E4%B8%AD%E6%96%AD%E7%9A%84%E6%8C%87%E4%BB%A4%E5%91%A8%E6%9C%9F"><span class="nav-text">1.2. 带中断的指令周期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1-%E7%8A%B6%E6%80%81%E5%9B%BE"><span class="nav-text">1.2.1. 状态图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-%E9%97%B4%E5%9D%80%E5%91%A8%E6%9C%9F"><span class="nav-text">1.3. 间址周期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-%E7%8A%B6%E6%80%81%E5%9B%BE"><span class="nav-text">1.3.1. 状态图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-CPU"><span class="nav-text">1.4. CPU</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-1-CPU%E4%BB%BB%E5%8A%A1"><span class="nav-text">1.4.1. CPU任务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-2-CPU%E9%9C%80%E6%B1%82"><span class="nav-text">1.4.2. CPU需求</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="nav-text">1.5. 数据流</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E5%A4%84%E7%90%86%E5%99%A8%E7%BB%93%E6%9E%84"><span class="nav-text">2. 处理器结构</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">3. 寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E7%94%A8%E6%88%B7%E5%8F%AF%E8%A7%81%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">3.1. 用户可见寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-1-%E7%B1%BB%E5%9E%8B"><span class="nav-text">3.1.1. 类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-2-%E8%AE%BE%E8%AE%A1%E5%87%BA%E5%8F%91%E7%82%B9"><span class="nav-text">3.1.2. 设计出发点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-3-%E4%BF%9D%E5%AD%98%E5%92%8C%E6%81%A2%E5%A4%8D"><span class="nav-text">3.1.3. 保存和恢复</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E6%8E%A7%E5%88%B6%E5%92%8C%E7%8A%B6%E6%80%81%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">3.2. 控制和状态寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1-%E7%B1%BB%E5%9E%8B"><span class="nav-text">3.2.1. 类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2-%E8%AE%BE%E8%AE%A1%E5%87%BA%E5%8F%91%E7%82%B9"><span class="nav-text">3.2.2. 设计出发点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E5%BE%AE%E6%93%8D%E4%BD%9C"><span class="nav-text">4. 微操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-%E5%BE%AE%E6%93%8D%E4%BD%9C%E5%88%86%E7%BB%84%E7%9A%84%E5%8E%9F%E5%88%99"><span class="nav-text">4.1. 微操作分组的原则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-%E5%8F%96%E6%8C%87%E5%91%A8%E6%9C%9F"><span class="nav-text">4.2. 取指周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-%E9%97%B4%E5%9D%80%E5%91%A8%E6%9C%9F"><span class="nav-text">4.3. 间址周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4-%E6%89%A7%E8%A1%8C%E5%91%A8%E6%9C%9F"><span class="nav-text">4.4. 执行周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-5-%E4%B8%AD%E6%96%AD%E5%91%A8%E6%9C%9F"><span class="nav-text">4.5. 中断周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-6-%E6%8C%87%E4%BB%A4%E5%91%A8%E6%9C%9F%E4%BB%A3%E7%A0%81"><span class="nav-text">4.6. 指令周期代码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-7-CPU%E5%86%85%E9%83%A8%E6%80%BB%E7%BA%BF"><span class="nav-text">4.7. CPU内部总线</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-text">5. 控制器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-%E5%9F%BA%E6%9C%AC%E4%BB%BB%E5%8A%A1"><span class="nav-text">5.1. 基本任务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-%E8%BE%93%E5%85%A5"><span class="nav-text">5.2. 输入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-%E8%BE%93%E5%87%BA"><span class="nav-text">5.3. 输出</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-%E4%BE%8B%E5%AD%90"><span class="nav-text">5.4. 例子</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-5-%E6%8E%A7%E5%88%B6%E5%99%A8%E6%9C%80%E5%B0%8F%E7%89%B9%E6%80%A7"><span class="nav-text">5.5. 控制器最小特性</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-%E6%8E%A7%E5%88%B6%E5%99%A8%E5%AE%9E%E7%8E%B0"><span class="nav-text">6. 控制器实现</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-%E7%A1%AC%E5%B8%83%E7%BA%BF%E5%AE%9E%E7%8E%B0"><span class="nav-text">6.1. 硬布线实现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-1-%E6%8E%A7%E5%88%B6%E5%99%A8%E8%BE%93%E5%85%A5"><span class="nav-text">6.1.1. 控制器输入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-2-%E6%8E%A7%E5%88%B6%E5%99%A8%E9%80%BB%E8%BE%91"><span class="nav-text">6.1.2. 控制器逻辑</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-%E5%BE%AE%E7%A8%8B%E5%BA%8F%E5%AE%9E%E7%8E%B0"><span class="nav-text">6.2. 微程序实现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E6%80%9D%E8%B7%AF"><span class="nav-text">6.2.1. 基本概念和思路</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-%E4%BB%BB%E5%8A%A1"><span class="nav-text">6.3. 任务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-4-%E5%AE%9A%E5%BA%8F"><span class="nav-text">6.4. 定序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-5-%E6%9E%84%E6%88%90"><span class="nav-text">6.5. 构成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-6-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="nav-text">6.6. 工作流程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-7-%E4%BC%98%E7%82%B9%E4%B8%8E%E7%BC%BA%E7%82%B9"><span class="nav-text">6.7. 优点与缺点</span></a></li></ol></li></ol></div></div></div></div></div></div><div class="main-content-footer"><footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"><div class="info-container py-3 text-center"><div class="text-center">&copy; <span>2022</span> - 2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration:0.5s;color:#f54545"></i>&nbsp;&nbsp;<a href="/">Charlie</a><p class="post-count space-x-0.5"><span>共 83 篇文章</span></p></div><script data-swup-reload-script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right"><span id="busuanzi_container_site_uv" class="lg:!block"><span class="text-sm">访问人数</span> <span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" class="lg:!block"><span class="text-sm">总访问量</span> <span id="busuanzi_value_site_pv"></span></span></div><div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left"><span class="lg:block text-sm">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a> 驱动</span> <span class="text-sm lg:block">主题&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.6.1</a></span></div><div>博客已运行 <span class="odometer" id="runtime_days"></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒</div><script data-swup-reload-script>try{function odometer_init(){document.querySelectorAll(".odometer").forEach(e=>{new Odometer({el:e,format:"( ddd).dd",duration:200})})}odometer_init()}catch(e){}</script></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="article-tools-list"><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li><li class="go-comment"><i class="fa-regular fa-comments"></i></li></ul></div></div><div class="right-side-tools-container"><div class="side-tools-container"><ul class="hidden-tools-list"><li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center"><i class="fa-regular fa-moon"></i></li><li class="right-bottom-tools rss flex justify-center items-center"><a class="flex justify-center items-center" href="/atom.xml" target="_blank"><i class="fa-regular fa-rss"></i></a></li><li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center"><i class="fa-regular fa-arrow-down"></i></li></ul><ul class="visible-tools-list"><li class="right-bottom-tools toggle-tools-list flex justify-center items-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fa-solid fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa-solid fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="/js/libs/Swup.min.js"></script><script src="/js/libs/SwupSlideTheme.min.js"></script><script src="/js/libs/SwupScriptsPlugin.min.js"></script><script src="/js/libs/SwupProgressPlugin.min.js"></script><script src="/js/libs/SwupScrollPlugin.min.js"></script><script src="/js/libs/SwupPreloadPlugin.min.js"></script><script>const swup=new Swup({plugins:[new SwupScriptsPlugin({optin:!0}),new SwupProgressPlugin,new SwupScrollPlugin({offset:80}),new SwupSlideTheme({mainElement:".main-content-body"}),new SwupPreloadPlugin],containers:["#swup"]})</script><script src="/js/tools/imageViewer.js" type="module"></script><script src="/js/utils.js" type="module"></script><script src="/js/main.js" type="module"></script><script src="/js/layouts/navbarShrink.js" type="module"></script><script src="/js/tools/scrollTopBottom.js" type="module"></script><script src="/js/tools/lightDarkSwitch.js" type="module"></script><script src="/js/layouts/categoryList.js" type="module"></script><script src="/js/tools/localSearch.js" type="module"></script><script src="/js/tools/codeBlock.js" type="module"></script><script src="/js/layouts/lazyload.js" type="module"></script><script src="/js/tools/runtime.js"></script><script src="/js/libs/odometer.min.js"></script><link rel="stylesheet" href="/assets/odometer-theme-minimal.css"><script src="/js/libs/Typed.min.js"></script><script src="/js/plugins/typed.js" type="module"></script><script src="/js/libs/mermaid.min.js"></script><script src="/js/plugins/mermaid.js"></script><div class="post-scripts" data-swup-reload-script><script src="/js/tools/tocToggle.js" type="module"></script><script src="/js/layouts/toc.js" type="module"></script><script src="/js/plugins/tabs.js" type="module"></script></div></body></html>