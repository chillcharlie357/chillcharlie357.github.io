<!DOCTYPE html>


<html theme="dark" showBanner="true" hasBanner="false" > 
<link href="/fontawesome/css/fontawesome.css" rel="stylesheet">
<link href="/fontawesome/css/brands.css" rel="stylesheet">
<link href="/fontawesome/css/solid.css" rel="stylesheet">
<script src="/js/color.global.min.js" ></script>
<script src="/js/load-settings.js" ></script>
<head>
  <meta charset="utf-8">
  
  
  <title>17_输入输出 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="false">
<meta property="og:type" content="article">
<meta property="og:title" content="17_输入输出">
<meta property="og:url" content="http://example.com/2023/07/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/17_%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="false">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/32be486ac10d89d09eda4666959010da_NVIDIA_Share_469_469.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/081fda1a8645a3ea97fc9e823d6d30f7_NVIDIA_Share_473_447.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/3f9f5419e48c74183cd40192275587c9_NVIDIA_Share_1180_886.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/84962f8ad92f7ad35dedf3424797d7e9_NVIDIA_Share_292_626.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/36fa86caa632a2ede1a3574b7a4ee00a_36fa86caa632a2ede1a3574b7a4ee00a_NVIDIA_Share_344_681.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/2bcb2629f54195d02ec4c9302d2dd724_NVIDIA_Share_1090_455.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/9986d19d4a666411964d7a81abaf6473_NVIDIA_Share_1070_370.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/c70d88515715d4e2975bbc1ade1e222d_NVIDIA_Share_1186_875.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/37c2b9436672122529f80b9562191ae8_NVIDIA_Share_1162_619.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/feeb193c5f1f8c3ae30f40f8f23be81d_NVIDIA_Share_364_701.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/2d7422830f6fb6d52eb4fbca0fd33502_NVIDIA_Share_948_300.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/12047bf6ca615049da2f1567b92981b5_NVIDIA_Share_965_303.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/14aaebdf4deee5b894f1c20eb8b3ecd8_NVIDIA_Share_915_326.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/33ccba4c17f39248a793a9242b9dd7c9_NVIDIA_Share_847_213.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/79750831cb015a614092b246efabac28_NVIDIA_Share_775_230.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/92aa65b994db7f43b1bbc284c75db767_NVIDIA_Share_771_283.png">
<meta property="og:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/e3906e7db3ced54a1f17b29c1974f70f_NVIDIA_Share_610_729.png">
<meta property="article:published_time" content="2023-07-11T12:46:13.954Z">
<meta property="article:modified_time" content="2023-07-11T12:46:13.954Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="2022Fall_计算机组织与结构 课程">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/32be486ac10d89d09eda4666959010da_NVIDIA_Share_469_469.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-32.png" sizes="32x32">
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-128.png" sizes="128x128">
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-180.png" sizes="180x180">
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-192.png" sizes="192x192">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-32.png" sizes="32x32">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-128.png" sizes="128x128">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-180.png" sizes="180x180">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-192.png" sizes="192x192">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  
   
  <div id="main-grid" class="shadow   ">
    <div id="nav" class=""  >
      <navbar id="navbar">
  <nav id="title-nav">
    <a href="/">
      <div id="vivia-logo">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <div>Hexo </div>
    </a>
  </nav>
  <nav id="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    <a id="theme-btn" class="nav-icon">
      <span class="material-symbols-rounded light-mode-icon">wb_sunny</span>
      <span class="material-symbols-rounded dark-mode-icon">dark_mode</span>
    </a>
    
      <a id="nav-rss-link" class="nav-icon mobile-hide" href="/atom.xml" title="RSS Feed">
        <span class="material-symbols-rounded rss">rss_feed</span>
      </a>
    
    <a id="nav-search-btn" class="nav-icon" title="Search" style="display: none;">
      <span class="material-symbols-rounded">search</span>
    </a>
    <div id="nav-menu-btn" class="nav-icon">
      <span class="material-symbols-rounded">menu</span>
    </div>
  </nav>
</navbar>
<div id="nav-dropdown" class="hidden">
  <div id="dropdown-link-list">
    
      <a class="nav-dropdown-link" href="/">Home</a>
    
      <a class="nav-dropdown-link" href="/archives">Archives</a>
    
      <a class="nav-dropdown-link" href="/about">About</a>
    
    
      <a class="nav-dropdown-link" href="/atom.xml" title="RSS Feed">RSS</a>
     
    </div>
</div>
<script>
  let dropdownBtn = document.getElementById("nav-menu-btn");
  let dropdownEle = document.getElementById("nav-dropdown");
  dropdownBtn.onclick = function() {
    dropdownEle.classList.toggle("hidden");
  }
</script>
    </div>
    <div id="sidebar-wrapper">
      <sidebar id="sidebar">
  
    <div class="widget-wrap">
  <div class="info-card">
    <div class="avatar">
      
      <div class="img-dim"></div>
    </div>
    <div class="info">
      <div class="username">Your Name </div>
      <div class="dot"></div>
      <div class="subtitle">This is the subtitle </div>
      <div class="link-list">
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://twitter.com" title="Twitter"><i class="fa-brands fa-twitter"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://store.steampowered.com" title="Steam"><i class="fa-brands fa-steam"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://github.com" title="GitHub"><i class="fa-brands fa-github"></i></a>
         
      </div>  
    </div>
  </div>
</div>

  
  <div class="sticky">
    
      


  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Categories</h3>
      <div class="category-box">
            <a class="category-link" href="/categories/2022Fall-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/">
                2022Fall_计算机组织与结构
                <div class="category-count">2</div>
            </a>
        </div>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Tags</h3>
      <ul class="widget-tag-list" itemprop="keywords"><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/2022Fall-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84-%E8%AF%BE%E7%A8%8B/" rel="tag">2022Fall_计算机组织与结构 课程</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Archives</h3>
      
      
        <a class="archive-link" href="/archives/2023/07 ">
          July 2023 
          <div class="archive-count">3 </div>
        </a>
      
        <a class="archive-link" href="/archives/2023/02 ">
          February 2023 
          <div class="archive-count">5 </div>
        </a>
      
        <a class="archive-link" href="/archives/2023/01 ">
          January 2023 
          <div class="archive-count">10 </div>
        </a>
      
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Recent Posts</h3>
      <ul>
        
          <li>
            <a href="/2023/07/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/17_%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/">17_输入输出</a>
          </li>
        
          <li>
            <a href="/2023/07/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/12_%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8/">12_虚拟存储器</a>
          </li>
        
          <li>
            <a href="/2023/07/11/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2023/02/24/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/16_%E6%80%BB%E7%BA%BF/">16_总线</a>
          </li>
        
          <li>
            <a href="/2023/02/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/15_%E6%8E%A7%E5%88%B6%E5%99%A8/">15_控制器</a>
          </li>
        
      </ul>
    </div>
  </div>

    
  </div>
</sidebar>
    </div>
    <div id="content-body">
       

<article id="post-计算机组织与结构/17_输入输出" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
    
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 class="p-name article-title" itemprop="headline name">
        17_输入输出
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2023-07-11T12:46:13.954Z" itemprop="datePublished">2023-07-11</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/2022Fall-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/">2022Fall_计算机组织与结构</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            2.4k words 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/2022Fall-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84-%E8%AF%BE%E7%A8%8B/" rel="tag">2022Fall_计算机组织与结构 课程</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <h1 id="1-外围设备"><a href="#1-外围设备" class="headerlink" title="1. 外围设备"></a>1. 外围设备</h1><p>输入&#x2F;输出操作通过连接到输入输出模块的各种外部设备完成， 这些外部设备提供了在外部环境和计算机系统之间的数据交 换，通常被称为<strong>外围设备（peripheral device</strong>），简称为外设 （peripheral）</p>
<ul>
<li>为什么<strong>不能</strong>把外设直接连接到系统总线上？<ul>
<li>外设种类繁多，操作方法多种多样</li>
<li>外设的数据传送速度一般比存储器或处理器的慢得多</li>
<li>某些外设的数据传送速度比存储器或处理器要快</li>
<li>外设使用的数据格式和字长度通常与处理器不同</li>
</ul>
</li>
</ul>
<h1 id="2-I-x2F-O模块"><a href="#2-I-x2F-O模块" class="headerlink" title="2. I&#x2F;O模块"></a>2. I&#x2F;O模块</h1><ul>
<li>通过系统总线或中央交换器和存储器连接</li>
<li>通过<strong>专用数据线</strong>与一个或多个外设连接</li>
<li>I&#x2F;O模块是计算机内部系统和外设之间的桥梁<br><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/32be486ac10d89d09eda4666959010da_NVIDIA_Share_469_469.png" alt="NVIDIA_Share_469_469.png"></li>
</ul>
<h2 id="2-1-外围设备的接口"><a href="#2-1-外围设备的接口" class="headerlink" title="2.1. 外围设备的接口"></a>2.1. 外围设备的接口</h2><ul>
<li>输入&#x2F;输出模块的接口以<strong>控制、状态和数据信号</strong>的形式出现</li>
<li>与设备相关的控制逻辑控制外设的操作，以响应来自输入&#x2F;输出模块的命令</li>
<li><strong>缓冲器</strong>用于缓存输入&#x2F;输出模块和外设之间传送的数据<ul>
<li>缓冲器的大小一般为8位或16位</li>
<li>速率不一致，缓冲</li>
</ul>
</li>
</ul>
<p><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/081fda1a8645a3ea97fc9e823d6d30f7_NVIDIA_Share_473_447.png" alt="NVIDIA_Share_473_447.png"></p>
<h2 id="2-2-I-x2F-O模块的功能"><a href="#2-2-I-x2F-O模块的功能" class="headerlink" title="2.2. I&#x2F;O模块的功能"></a>2.2. I&#x2F;O模块的功能</h2><h3 id="2-2-1-处理器通信"><a href="#2-2-1-处理器通信" class="headerlink" title="2.2.1. 处理器通信"></a>2.2.1. 处理器通信</h3><ul>
<li>命令译码：输入&#x2F;输出模块接收来自处理器的命令，这些命令一般 作为信号发送到控制总线</li>
<li>数据：数据是在处理器和输入&#x2F;输出模块之间经由数据总线来交换的</li>
<li>状态报告：由于外设速度很慢, 所以知道输入&#x2F;输出模块的状态很重要</li>
<li>地址识别：输入&#x2F;输出模块必须能识别它所控制的每个外设的唯一 地址</li>
</ul>
<h3 id="2-2-2-设备通信"><a href="#2-2-2-设备通信" class="headerlink" title="2.2.2. 设备通信"></a>2.2.2. 设备通信</h3><p>通信内容包含命令、状态信息和数据</p>
<h3 id="2-2-3-数据缓冲"><a href="#2-2-3-数据缓冲" class="headerlink" title="2.2.3. 数据缓冲"></a>2.2.3. 数据缓冲</h3><ul>
<li>外设的数据传送速度一般比存储器或处理器的慢得多</li>
<li>某些外设的数据传送速度比存储器或处理器要快</li>
</ul>
<h3 id="2-2-4-控制和定时"><a href="#2-2-4-控制和定时" class="headerlink" title="2.2.4. 控制和定时"></a>2.2.4. 控制和定时</h3><ul>
<li>处理器会<strong>非预期的</strong>与一个或几个外设进行通信</li>
<li>一些内部资源，如<strong>主存和系统总线，是被共享的</strong></li>
<li>例子：控制从外设到处理器的数据传送包括以下几个步骤<ul>
<li>处理器查询输入&#x2F;输出模块以检验所连接设备的状态</li>
<li>输入输出模块返回设备状态</li>
<li>如果设备运转并准备就绪，则处理器通过向输入&#x2F;输出模块发出一条命令,请求数据传送</li>
<li>数据从输入&#x2F;输出模块来到处理器</li>
</ul>
</li>
</ul>
<h3 id="2-2-5-检错"><a href="#2-2-5-检错" class="headerlink" title="2.2.5. 检错"></a>2.2.5. 检错</h3><ul>
<li>检错并把差错信息报告给处理器</li>
<li>差错类型<ul>
<li>设备报告的机械和电路故障</li>
<li>传输过程中数据位的变化</li>
</ul>
</li>
</ul>
<h2 id="2-3-I-x2F-O模块结构"><a href="#2-3-I-x2F-O模块结构" class="headerlink" title="2.3. I&#x2F;O模块结构"></a>2.3. I&#x2F;O模块结构</h2><p><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/3f9f5419e48c74183cd40192275587c9_NVIDIA_Share_1180_886.png" alt="NVIDIA_Share_1180_886.png"></p>
<ul>
<li>USB：通用串行总线（Universal Serial Bus）</li>
<li>FireWire：IEEE标准1394串行总线</li>
</ul>
<h1 id="3-I-x2F-O操作技术"><a href="#3-I-x2F-O操作技术" class="headerlink" title="3. I&#x2F;O操作技术"></a>3. I&#x2F;O操作技术</h1><ul>
<li>编程式 I&#x2F;O：处理器通过执行程序<strong>来直接控制I&#x2F;O操作</strong>，当处理器发送一条命令到I&#x2F;O模块时，它必须等待，直到I&#x2F;O操作完成</li>
<li>中断驱动式 I&#x2F;O：处理器发送一条I&#x2F;O命令后，继续执行其他指令； 并且当I&#x2F;O模块完成其工作后，才去中断处理器工作</li>
<li>直接存储器读取（Direct Memory Access，DMA）：I&#x2F;O模块与主存直接交换数据，而不需要处理器的干涉</li>
</ul>
<table>
<thead>
<tr>
<th>I&#x2F;O与存储器传递方式</th>
<th>无中断</th>
<th>使用中断</th>
</tr>
</thead>
<tbody><tr>
<td>通过处理器</td>
<td>编程式I&#x2F;O</td>
<td>中断驱动式I&#x2F;O</td>
</tr>
<tr>
<td>直接传递</td>
<td></td>
<td>直接存储器存取（DMA）</td>
</tr>
</tbody></table>
<h2 id="3-1-编程式I-x2F-O"><a href="#3-1-编程式I-x2F-O" class="headerlink" title="3.1. 编程式I&#x2F;O"></a>3.1. 编程式I&#x2F;O</h2><ul>
<li>当<strong>处理器</strong>在执行过程中遇到一条与I&#x2F;O操作有关的指令时，它通过发送指令到适当 的I&#x2F;O模块来执行这条指令</li>
<li>I&#x2F;O模块将执行所要求的动作，然后在I&#x2F;O 状态寄存器中设置一些适当的位</li>
<li>I&#x2F;O不会中断处理器，因此处理器需要周期性地检查I&#x2F;O模块的状态，直到发现该操作完成</li>
</ul>
<p><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/84962f8ad92f7ad35dedf3424797d7e9_NVIDIA_Share_292_626.png" alt="NVIDIA_Share_292_626.png"></p>
<h3 id="3-1-1-I-x2F-O命令"><a href="#3-1-1-I-x2F-O命令" class="headerlink" title="3.1.1. I&#x2F;O命令"></a>3.1.1. I&#x2F;O命令</h3><ul>
<li>为了执行I&#x2F;O操作，<strong>处理器</strong>发送一个指定具体I&#x2F;O模块和外设的地址，并发送一条<strong>I&#x2F;O命令</strong></li>
<li>类型<ul>
<li>控制命令：激活外设并告诉它要做什么</li>
<li>测试命令：测试I&#x2F;O模块及其外设相关的各种状态条件</li>
<li>读命令：使I&#x2F;O模块从外设获得一个数据，把它存入内部缓冲区</li>
<li>写命令：使I&#x2F;O模块从数据总线获得一个数据，把它传入外设</li>
</ul>
</li>
</ul>
<h3 id="3-1-2-I-x2F-O指令"><a href="#3-1-2-I-x2F-O指令" class="headerlink" title="3.1.2. I&#x2F;O指令"></a>3.1.2. I&#x2F;O指令</h3><ul>
<li>I&#x2F;O指令很容易映射为I&#x2F;O命令, 并且两者之间通常是简单的一 一对应关系<ul>
<li>指令的形式取决于外设寻址的方式</li>
</ul>
</li>
<li>编址方式<ul>
<li>存储器映射式I&#x2F;O：存储单元和I&#x2F;O设备有统一的地址空间<ul>
<li>能使用大的指令系统，可进行更有效的编程</li>
</ul>
</li>
<li>分离式I&#x2F;O：让总线既有存储器的读线和写线，同时也有输入和输出命令线</li>
</ul>
</li>
</ul>
<h2 id="3-2-中断驱动式I-x2F-O"><a href="#3-2-中断驱动式I-x2F-O" class="headerlink" title="3.2. 中断驱动式I&#x2F;O"></a>3.2. 中断驱动式I&#x2F;O</h2><ul>
<li>处理器发送一个I&#x2F;O命令到模块，然后去处理其它有用的工作</li>
<li>当I&#x2F;O模块准备好和处理器交换数据时，它<strong>中断处理器</strong>以请求服务</li>
<li>处理器执行数据传送，最后恢复它原先的处理工作</li>
</ul>
<p><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/36fa86caa632a2ede1a3574b7a4ee00a_36fa86caa632a2ede1a3574b7a4ee00a_NVIDIA_Share_344_681.png" alt="NVIDIA_Share_344_681.png"></p>
<h3 id="3-2-1-从处理器视角和IO视角看中断"><a href="#3-2-1-从处理器视角和IO视角看中断" class="headerlink" title="3.2.1. 从处理器视角和IO视角看中断"></a>3.2.1. 从处理器视角和IO视角看中断</h3><p><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/2bcb2629f54195d02ec4c9302d2dd724_NVIDIA_Share_1090_455.png" alt="NVIDIA_Share_1090_455.png"><br><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/9986d19d4a666411964d7a81abaf6473_NVIDIA_Share_1070_370.png" alt="NVIDIA_Share_1070_370.png"></p>
<h3 id="3-2-2-中断允许和中断禁止"><a href="#3-2-2-中断允许和中断禁止" class="headerlink" title="3.2.2. 中断允许和中断禁止"></a>3.2.2. 中断允许和中断禁止</h3><ul>
<li>保存上下文和恢复上下文过程中<strong>禁止中断</strong></li>
<li>处理中断和恢复完上下文后<strong>允许中断</strong><br><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/c70d88515715d4e2975bbc1ade1e222d_NVIDIA_Share_1186_875.png" alt="NVIDIA_Share_1186_875.png"></li>
</ul>
<h3 id="3-2-3-响应优先级和处理优先级"><a href="#3-2-3-响应优先级和处理优先级" class="headerlink" title="3.2.3. 响应优先级和处理优先级"></a>3.2.3. 响应优先级和处理优先级</h3><p><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/37c2b9436672122529f80b9562191ae8_NVIDIA_Share_1162_619.png" alt="NVIDIA_Share_1162_619.png"></p>
<h3 id="3-2-4-设备识别"><a href="#3-2-4-设备识别" class="headerlink" title="3.2.4. 设备识别"></a>3.2.4. 设备识别</h3><ul>
<li>多条中断线<ul>
<li>即使有多条中断线可用，每条线上也需要采用其它三种技术中的一种</li>
</ul>
</li>
<li>软件轮询<ul>
<li>轮询每一个I&#x2F;O模块来确定是哪个模块发生的中断</li>
</ul>
</li>
<li>菊花链<ul>
<li>所有的I&#x2F;O模块共享一条中断请求线，中断应答线采用菊花链穿过这些中断模块</li>
</ul>
</li>
<li>独立请求<ul>
<li>特定的中断控制器用于解码和分析优先级</li>
</ul>
</li>
</ul>
<p>类似：[[16_总线#3.2. 仲裁]]</p>
<h3 id="3-2-5-分配优先级"><a href="#3-2-5-分配优先级" class="headerlink" title="3.2.5. 分配优先级"></a>3.2.5. 分配优先级</h3><ul>
<li>多条中断线：处理器仅仅挑选具有最高优先级的中断线</li>
<li>软件轮询：模块的轮询次序就决定了模块的优先级</li>
<li>菊花链：链接模块次序就决定了模块的优先级</li>
<li>独立请求：中断控制器决定</li>
</ul>
<h2 id="3-3-直接存储器存取DMA"><a href="#3-3-直接存储器存取DMA" class="headerlink" title="3.3. 直接存储器存取DMA"></a>3.3. 直接存储器存取DMA</h2><ul>
<li>不足<ul>
<li>I&#x2F;O传送速度受处理器测试和服务设备速度的限制</li>
<li>处理器负责管理I&#x2F;O传送，对于每一次I&#x2F;O传送，处理器必须执行很多指令</li>
</ul>
</li>
<li>直接存储器存取<ul>
<li>无需经过处理器即可直接访问内存的模块</li>
</ul>
</li>
</ul>
<p><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/feeb193c5f1f8c3ae30f40f8f23be81d_NVIDIA_Share_364_701.png" alt="NVIDIA_Share_364_701.png"></p>
<h3 id="3-3-1-处理过程"><a href="#3-3-1-处理过程" class="headerlink" title="3.3.1. 处理过程"></a>3.3.1. 处理过程</h3><ul>
<li>处理器通过发送以下信息向DMA模块发出命令：读&#x2F;写、I&#x2F;O设备地址、内存中的起始位置、字数</li>
<li>处理器继续进行其他工作</li>
<li>DMA模块将全部数据块，每次一个字，直接将数据传输到存储器或从存储器读出，而<strong>无需经过处理器</strong></li>
<li><strong>当传输完成时</strong>，DMA模块向处理器发送一个中断信号</li>
</ul>
<h3 id="3-3-2-DMA内存访问"><a href="#3-3-2-DMA内存访问" class="headerlink" title="3.3.2. DMA内存访问"></a>3.3.2. DMA内存访问</h3><h4 id="3-3-2-1-CPU停止法"><a href="#3-3-2-1-CPU停止法" class="headerlink" title="3.3.2.1. CPU停止法"></a>3.3.2.1. CPU停止法</h4><ul>
<li>优点：控制简单</li>
<li>缺点：影响CPU，没有充分利用内存</li>
<li>适用：高速I&#x2F;O设备的块传输<br><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/2d7422830f6fb6d52eb4fbca0fd33502_NVIDIA_Share_948_300.png" alt="NVIDIA_Share_948_300.png"></li>
</ul>
<h4 id="3-3-2-2-周期窃取"><a href="#3-3-2-2-周期窃取" class="headerlink" title="3.3.2.2. 周期窃取"></a>3.3.2.2. 周期窃取</h4><ul>
<li>优点：充分利用CPU和内存，及时响应I&#x2F;O请求</li>
<li>缺点：DMA每次都请求总线</li>
<li>适用：I&#x2F;O周期大于存储周期<br><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/12047bf6ca615049da2f1567b92981b5_NVIDIA_Share_965_303.png" alt="NVIDIA_Share_965_303.png"></li>
</ul>
<h4 id="3-3-2-3-交替分时访问"><a href="#3-3-2-3-交替分时访问" class="headerlink" title="3.3.2.3. 交替分时访问"></a>3.3.2.3. 交替分时访问</h4><ul>
<li>优点：CPU未停止或等待，DMA不请求总线</li>
<li>缺点：CPU周期大于存储周期<br><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/14aaebdf4deee5b894f1c20eb8b3ecd8_NVIDIA_Share_915_326.png" alt="NVIDIA_Share_915_326.png"></li>
</ul>
<h3 id="3-3-3-DMA配置机制"><a href="#3-3-3-DMA配置机制" class="headerlink" title="3.3.3. DMA配置机制"></a>3.3.3. DMA配置机制</h3><h4 id="3-3-3-1-单总线分离DMA"><a href="#3-3-3-1-单总线分离DMA" class="headerlink" title="3.3.3.1. 单总线分离DMA"></a>3.3.3.1. 单总线分离DMA</h4><ul>
<li>所有模块共享相同的系统总线</li>
<li>DMA模块使用<strong>编程式I&#x2F;O</strong>，通过DMA模块在存储器和I&#x2F;O模块之间交换数据</li>
<li>便宜但低效<br><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/33ccba4c17f39248a793a9242b9dd7c9_NVIDIA_Share_847_213.png" alt="NVIDIA_Share_847_213.png"></li>
</ul>
<h4 id="3-3-3-2-单总线集合的DMA-I-x2F-O"><a href="#3-3-3-2-单总线集合的DMA-I-x2F-O" class="headerlink" title="3.3.3.2. 单总线集合的DMA-I&#x2F;O"></a>3.3.3.2. 单总线集合的DMA-I&#x2F;O</h4><ul>
<li>DMA逻辑实际上可能是I&#x2F;O模块的一部分，也可能是控制一个或多个I&#x2F;O模块的单独模块</li>
<li>减少总线周期数<br><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/79750831cb015a614092b246efabac28_NVIDIA_Share_775_230.png" alt="NVIDIA_Share_775_230.png"></li>
</ul>
<h4 id="3-3-3-3-I-x2F-O-总线"><a href="#3-3-3-3-I-x2F-O-总线" class="headerlink" title="3.3.3.3. I&#x2F;O 总线"></a>3.3.3.3. I&#x2F;O 总线</h4><ul>
<li>使用I&#x2F;O总线将I&#x2F;O模块连接到DMA模块</li>
<li>多个I&#x2F;O模块共享DMA，且易于扩展<br><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/92aa65b994db7f43b1bbc284c75db767_NVIDIA_Share_771_283.png" alt="NVIDIA_Share_771_283.png"></li>
</ul>
<p><img src="https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/02/24/e3906e7db3ced54a1f17b29c1974f70f_NVIDIA_Share_610_729.png" alt="NVIDIA_Share_610_729.png"></p>
<h1 id="4-I-x2F-O模块的演变"><a href="#4-I-x2F-O模块的演变" class="headerlink" title="4. I&#x2F;O模块的演变"></a>4. I&#x2F;O模块的演变</h1><ul>
<li>CPU直接控制外设</li>
<li>增加控制器或I&#x2F;O模块，CPU使用编程式I&#x2F;O，将CPU与外围设备的细节分离</li>
<li>采用中断，CPU无需花费时间等待外围设备就绪</li>
<li>I&#x2F;O模块可通过DMA直接存取存储器，无需CPU负责存储器和I&#x2F;O模块之间的数据传递</li>
<li>I&#x2F;O通道（I&#x2F;O channel）：I&#x2F;O模块有自己的处理器，带有专门为I&#x2F;O操作定制的指令集</li>
<li>CPU指示I&#x2F;O通道执行存储器中的I&#x2F;O指令，只有在执行完成后才会中断CPU</li>
<li>I&#x2F;O处理器（I&#x2F;O processor）：I&#x2F;O模块有一个局部存储器，I&#x2F;O模块成为一个自治的计算机，常用于与交互式终端进行通信</li>
<li>只需最少的CPU参与即可控制大量I&#x2F;O设备</li>
</ul>

        
      </div>

         
    </div>
    
     
  </div>
  
    
<nav id="article-nav">
  <a class="article-nav-btn left  disabled "
     >
    <i class="fa-solid fa-angle-left"></i>
    <p class="title-text">
        
    </p>
  </a>
  <a class="article-nav-btn right "
    
      href="/2023/07/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/12_%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8/"
      title="12_虚拟存储器"
     >

    <p class="title-text">
      
        12_虚拟存储器
        
    </p>
    <i class="fa-solid fa-angle-right"></i>
  </a>
</nav>


  
</article>

 
    </div>
    <div id="footer-wrapper">
      <footer id="footer">
  
  <div id="footer-info" class="inner">
    
    &copy; 2023 Your Name<br>
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & Theme <a target="_blank" rel="noopener" href="https://github.com/saicaca/hexo-theme-vivia">Vivia</a>
  </div>
</footer>

    </div>
    <div class="back-to-top-wrapper">
    <button id="back-to-top-btn" class="back-to-top-btn" onclick="topFunction()">
        <span class="material-symbols-rounded">keyboard_arrow_up</span>
    </button>
</div>

<script>
    function topFunction() {
        window.scroll({ top: 0, behavior: 'smooth' });
    }
    let btn = document.getElementById('back-to-top-btn');
    function scrollFunction() {
        if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
            btn.style.opacity = 1;
        } else {
            btn.style.opacity = 0;
        }
    }
    window.onscroll = function() {
        scrollFunction();
    }
</script>

  </div>
  <script src="/js/light-dark-switch.js"></script>
</body>
</html>
